<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>使用正则表达式验证表单内容</title>
<style type="text/css">
body{
	margin:0;
	padding:0;
	font-size:14px;
	line-height:25px;
}
.main{
	width:900px;
	margin-left:auto;
	margin-right:auto;
	}

.left{
	text-align:right;
	width:180px;
	height:25px;
	padding-right:5px;
	}
.inputs{
	width:130px;
	height:16px;
	border:solid 1px #666666;
	float:left;
	margin-right:5px;
	}
.prompt{
	margin-left:10px;
	color:#F00;
	}	
</style>
<script type="text/javascript">
function $(elementId){
  return document.getElementById(elementId).value;
	}
function divId(elementId){
  return document.getElementById(elementId);
	}
/*用户名验证*/	
function checkUser(){
  var user=$("user");
  var userId=divId("user_prompt");
   userId.innerHTML="";	
  var reg=/^[a-zA-Z][\w_]{4,15}$/;	
    if(reg.test(user)==false){
	   userId.innerHTML="用户名不正确";
	return false;
	  }
	  return true;
	}
/*验证邮箱*/
function checkEmail(){
  var email=$("email");
  var email_prompt=divId("email_prompt");
  email_prompt.innerHTML="";
  var reg=/^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;	
    if(reg.test(email)==false){
	  email_prompt.innerHTML="Email格式不正确，例如web@sohu.com";
	return false;
	  }
	  return true;
}
/*验证手机号码*/
function checkMobile(){
	var mobile=$("mobile");
	var mobileId=divId("mobile_prompt");
	var regMobile=/^1\d{10}$/;
	if(regMobile.test(mobile)==false){
		mobileId.innerHTML="手机号码不正确，请重新输入";
		return false;
		}
		mobileId.innerHTML="";
		return true;
	}
	
	/*密码验证*/	
function checkPwd(){
  var pwd=$("pwd");
  var pwdId=divId("pwd_prompt");
   pwdId.innerHTML="";	
  var reg=/^[a-zA-Z0-9]{4,10}$/;	
    if(reg.test(pwd)==false){
	   pwdId.innerHTML="密码不能含有非法字符，长度在4-10之间";
	return false;
	  }
	  return true;
	}
	
function checkRepwd(){
  var repwd=$("repwd");
  var pwd=$("pwd");
  var repwdId=divId("repwd_prompt");
   repwdId.innerHTML="";
    if(pwd!=repwd){
	   repwdId.innerHTML="两次输入的密码不一致";
	return false;
	  }
	  return true;
	}



</script>
</head>

<body>
<div class="main"><img src="images/logo.jpg" alt="logo"/></div>
<div class="main"><table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td class="left"></td>
    <td>&nbsp;</td>
  </tr><tr>
    <td class="left">用户名：</td>
    <td><input id="user" type="text" class="inputs" onblur="checkUser()" /><div id="user_prompt" class="prompt"></div></td>
  </tr>
 <tr>
    <td class="left">Email地址：</td>
    <td><input id="email" type="text" class="inputs" onblur="checkEmail()" /><div id="email_prompt" class="prompt"></div></td>
  </tr>
 <tr>
    <td class="left">手机号码：</td>
    <td><input id="mobile" type="text" class="inputs" onblur="checkMobile()" /><div id="mobile_prompt" class="prompt"></div></td>
  </tr>
 <tr>
    <td class="left">登录密码：</td>
    <td><input id="pwd" type="password"  class="inputs" onblur="checkPwd()" /><div id="pwd_prompt" class="prompt"></div></td>
  </tr>
 <tr>
    <td class="left">密码确认：</td>
    <td><input id="repwd" type="password"  class="inputs" onblur="checkRepwd()" /><div id="repwd_prompt" class="prompt"></div></td>
  </tr>
 <tr>
    <td class="left">&nbsp;</td>
    <td><input name="" type="image" src="images/login.jpg" /></td>
  </tr>

  
</table>
</div>
</body>
</html>
